# store_reports
Converting raw CSV files to useful data

# требования к продукту
На торговом предприятии отчеты приходят в csv файлах. Необходимо автоматизировать анализ двух типов отчетов: отчёты о доставке груза CRG (много единиц товара) и об операциях над единицами товара SKU. Отчёты имеют такие колонки:

CRG
Дата, Время, Номер накладной, Вес, Откуда (другой склад или населенный пункт), Склад (куда прибыл), Стоимость доставки, Стоимость закупки

SKU
Дата, Время, SKU, Склад, Тип операции (прибытие, перемещение, продажа, утилизация), Номер накладной, ИД места на складе, Срок годности, Стоимость операции (отрицательная если расходы, положительная если прибыль), Комментарий

Примеры отчётов будут предоставлены через несколько дней.

При анализе этих отчётов необходимо создать новые файла формата TXT в которых:
- Будут сохранены все колонки исходного отчёта
- По горизонтали в каждом ряду каждая колонка будет начинаться в одном месте
- Ширина каждой колонки будет подогнана под тип данных и не должна обрезать
- Свободное место заполнять пробелами
- В качестве разделителя колонок использовать символ |

Так же на основании этих двух отчётов необходимо создать дополнительные отчёты, точные требования по которым еще уточняются:
- Отчёт о реализации каждого CRG
- Отчёт о каждой продаже SKU
- Отчёт о каждой утилизации SKU
- Отчёт о текущем состоянии складов
- Отчёт о приближающемся истечении срока годности

## Отчёт о приближающемся истечении срока годности

### Входные данные:

- `start_date` - дата от которой отсчитывать в формате DD.MM.YYYY (по умолчанию - сегодняшняя)
- `warning_period` - период "приближения" (по умолчанию две недели)

### Выходные данные:

Таблица с такими колонками:

- Expiration date (отображаются только те записи, в которых эта дата в промежутке между `start_date` и `start_date` + `warning_period`)
- SKU
- Warehouse (текущий)
- Warehouse cell ID (текущий)
- Last operation date
- First arrival date


В дальнейшем на автоматизацию так же могут направить и другие отчеты, поэтому программное решение должно быть открытым к изменениям.


## Отчёт о продажах SKU:

- SKU
- Warehouse
- Warehouse cell ID
- Sale date
- First arrival date
- Sell cost
- Cost of transportation (all operation sum except first arrival)


## Отчет о реализации CRG
### Входные данные:

- `start_date` - дата от которой отсчитывать в формате DD.MM.YYYY (по умолчанию - сегодняшняя)
- `end_date` - дата от которой отсчитывать в формате DD.MM.YYYY (по умолчанию - сегодняшняя)

### Выходные данные:

Таблица с такими колонками:

Все расчёты нужно совершать только в периоде с `start_date` по `end_date`.

- invoice(только те CRG которые были куплены, а не внутренние перемещения)
- date (CRG)
- SKU count. Сколько SKU было в этом CRG
- SKU sold. Сколько SKU из этого CRG продано
- SKU disposed. Сколько SKU из этого CRG утилизировано
- Total delivery cost. Затраты на доставку CRG и перемещения всех SKU
- Saldo. Разница затрат и выручки связанных с SKU в этом CRG. <0 - траты, >0 - доходы.

Добавить в конце еще один ряд:

- invoice = "ALL"
- date = `end_date`
- Остальные колонки - сумма по всем invoice в отчете
